<!DOCTYPE html>
<html lang="en" data-x="html" data-x-toggle="html-overflow-hidden">

<head>
  <!-- Required meta tags -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Google fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="{{ asset('assets/css/vendors.css') }}">
  <link rel="stylesheet" href="{{ asset('assets/css/main.css') }}">
  <link rel="stylesheet" href="{{ asset('assets/css/pagination.css') }}">

  <title>{% block title %}GoTrip{% endblock %}</title>
  
  {% block stylesheets %}
  <style>
    /* Fix for navbar submenus - white text on white background issue */
    .menu-item-has-children .subnav {
      background-color: #0d2857 !important;
    }
    
    .menu-item-has-children .subnav li a:hover {
      background-color: rgba(255, 255, 255, 0.1) !important;
    }
    
    /* Fix for mobile menu */
    @media (max-width: 991px) {
      /* Improved mobile menu appearance */
      .header-menu__content {
        background-color: #0d2857 !important;
      }
      
      .menu__nav .subnav {
        background-color: #0d2857 !important;
        padding: 0 !important;
      }
      
      .menu__nav .subnav li a {
        padding: 15px 30px !important;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
      }
      
      /* Better dropdown arrows on mobile */
      .menu-item-has-children > a {
        position: relative;
        width: 100%;
        display: flex !important;
        justify-content: space-between !important;
        align-items: center !important;
        padding: 20px 30px !important;
      }
      
      .menu-item-has-children > a .icon-chevron-sm-down {
        position: absolute;
        right: 30px;
        top: 50%;
        transform: translateY(-50%);
      }
      
      /* Improved back button styling */
      .js-nav-list-back {
        border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
      }
      
      .js-nav-list-back a {
        display: flex !important;
        align-items: center !important;
        padding: 20px 30px !important;
        font-weight: 500 !important;
      }
      
      .js-nav-list-back a i {
        margin-right: 10px;
        transform: rotate(90deg);
      }
      
      /* Make selected dropdown fully visible */
      .menu__nav > li > .subnav.-is-active {
        padding-top: 0 !important;
        z-index: 10 !important;
      }
      
      /* Fix whitespace in mobile menu */
      .menu__nav > li > a {
        border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
      }
    }
    
    /* Fix for mobile header layout */
    @media (max-width: 767px) {
      .header__container .row {
        flex-wrap: nowrap;
      }
      
      /* Make sure profile menu is visible on mobile */
      .dropdown__button {
        height: 50px;
      }
    }
    
    /* Improved dropdown styling */
    .js-user-nav-dropdown-mobile,
    .js-user-nav-dropdown {
      min-width: 180px;
      z-index: 9999 !important;
    }
    
    /* Ensure all dropdown menu items are clickable */
    .menu-item-has-children > a {
      cursor: pointer;
    }
    
    /* Fix for submenu transitions */
    .menu__nav .subnav {
      transition: all 0.3s ease;
    }
    
    /* Fix for Activities dropdown alignment */
    .subnav .d-flex.align-items-center {
      display: flex !important;
      align-items: center !important;
    }
    
    /* Fix for activities map icon */
    .icon-map-marker.text-blue-1.mr-5 {
      color: #3554D1 !important;
      margin-right: 5px !important;
      display: inline-block !important;
    }
    
    /* Fix to match the exact appearance in the screenshots */
    .menu-item-has-children {
      position: relative;
    }
    
    .menu-item-has-children .subnav {
      position: absolute;
      left: 0;
      min-width: 230px;
      box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.15);
      border-radius: 4px;
    }
    
    /* Mobile dropdown fixes */
    @media (max-width: 991px) {
      .menu-item-has-children .subnav {
        position: fixed;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        min-width: 100%;
        box-shadow: none;
        border-radius: 0;
        padding: 20px 0 0 0;
      }
      
      /* Fix first dropdown item */
      .menu-item-has-children .subnav li:first-child {
        border-top: none !important;
      }
    }
  </style>
  {% endblock %}
</head>

<body>
  <div class="preloader js-preloader">
    <div class="preloader__wrap">
      <div class="preloader__icon">
        <svg width="38" height="37" viewBox="0 0 38 37" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_1_41)">
            <path d="M32.9675 13.9422C32.9675 6.25436 26.7129 0 19.0251 0C11.3372 0 5.08289 6.25436 5.08289 13.9422C5.08289 17.1322 7.32025 21.6568 11.7327 27.3906C13.0538 29.1071 14.3656 30.6662 15.4621 31.9166V35.8212C15.4621 36.4279 15.9539 36.92 16.561 36.92H21.4895C22.0965 36.92 22.5883 36.4279 22.5883 35.8212V31.9166C23.6849 30.6662 24.9966 29.1071 26.3177 27.3906C30.7302 21.6568 32.9675 17.1322 32.9675 13.9422V13.9422ZM30.7699 13.9422C30.7699 16.9956 27.9286 21.6204 24.8175 25.7245H23.4375C25.1039 20.7174 25.9484 16.7575 25.9484 13.9422C25.9484 10.3587 25.3079 6.97207 24.1445 4.40684C23.9229 3.91841 23.6857 3.46886 23.4347 3.05761C27.732 4.80457 30.7699 9.02494 30.7699 13.9422ZM20.3906 34.7224H17.6598V32.5991H20.3906V34.7224ZM21.0007 30.4014H17.0587C16.4167 29.6679 15.7024 28.8305 14.9602 27.9224H16.1398C16.1429 27.9224 16.146 27.9227 16.1489 27.9227C16.152 27.9227 23.0902 27.9224 23.0902 27.9224C22.3725 28.8049 21.6658 29.6398 21.0007 30.4014ZM19.0251 2.19765C20.1084 2.19765 21.2447 3.33365 22.1429 5.3144C23.1798 7.60078 23.7508 10.6649 23.7508 13.9422C23.7508 16.6099 22.8415 20.6748 21.1185 25.7245H16.9322C15.2086 20.6743 14.2994 16.6108 14.2994 13.9422C14.2994 10.6649 14.8706 7.60078 15.9075 5.3144C16.8057 3.33365 17.942 2.19765 19.0251 2.19765V2.19765ZM7.28053 13.9422C7.28053 9.02494 10.3184 4.80457 14.6157 3.05761C14.3647 3.46886 14.1273 3.91841 13.9059 4.40684C12.7425 6.97207 12.102 10.3587 12.102 13.9422C12.102 16.7584 12.9462 20.7176 14.6126 25.7245H13.2259C9.33565 20.6126 7.28053 16.5429 7.28053 13.9422Z" fill="#3554D1" />
          </g>

          <defs>
            <clipPath id="clip0_1_41">
              <rect width="36.92" height="36.92" fill="white" transform="translate(0.540039)" />
            </clipPath>
          </defs>
        </svg>
      </div>
    </div>

    <div class="preloader__title">GoTrip</div>
  </div>

  <main>
    {% block header %}
    <header data-add-bg="bg-dark-1" class="header js-header" style="background-color: #0d2857 !important;" data-x="header" data-x-toggle="is-menu-opened">
      <div data-anim="fade" class="header__container container">
        <div class="row justify-between items-center">

          <div class="col-auto">
            <div class="d-flex items-center">
              <a href="{{ path('app_home') }}" class="header-logo mr-20 text-white" data-x="header-logo" data-x-toggle="is-logo-dark">
                <img src="{{ asset('assets/img/general/logo-light.svg') }}" alt="logo icon">
                <img src="{{ asset('assets/img/general/logo-dark.svg') }}" alt="logo icon">
              </a>
            </div>
          </div>


          <div class="col-auto">
            <div class="d-flex items-center">

              <div class="header-menu " data-x="mobile-menu" data-x-toggle="is-menu-active">
                <div class="mobile-overlay"></div>

                <div class="header-menu__content">
                  <div class="mobile-bg js-mobile-bg"></div>

                  <div class="menu js-navList">
                    <ul class="menu__nav text-white -is-active">

                      <li>
                        <a href="{{ path('app_home') }}" class="text-white">
                          Home
                        </a>
                      </li>
                      <li>
                        <a href="{{ path('app_destinations') }}" class="text-white">
                          Destinations
                        </a>
                      </li>
                      <li>
                        <a href="{{ path('app_blog_index') }}" class="text-white">
                          Blog
                        </a>
                      </li>
                      <li class="menu-item-has-children">
                        <a href="javascript:void(0)" class="text-white">
                          <span class="mr-10">Activities</span>
                          <i class="icon icon-chevron-sm-down"></i>
                        </a>
                        <ul class="subnav">
                          <li class="subnav__backBtn js-nav-list-back">
                            <a href="javascript:void(0)" class="text-white"><i class="icon icon-chevron-sm-down"></i>Activities</a>
                          </li>
                          <li><a href="{{ path('app_activities') }}" class="text-white">Activities List</a></li>
                          <li><a href="{{ path('app_activities_map') }}" class="text-white d-flex align-items-center">
                              <i class="icon-map-marker text-blue-1 mr-5"></i>
                              <span>Activities Map</span>
                            </a></li>
                        </ul>
                      </li>
                     
                      <!-- About and Contact links removed -->
                    </ul>
                  </div>

                  <div class="mobile-footer px-20 py-20 border-top-light js-mobile-footer">
                  </div>
                </div>
              </div>


              <div class="d-flex items-center ml-20 is-menu-opened-hide md:d-none">
                {% if app.user %}
                  {% if app.user.role != 'admin' and app.user.role != 'Publicitaire' %}
                    <a href="{{ path('app_client_upgrade') }}" class="button px-30 fw-400 text-14 -blue-1 bg-white h-50 text-dark-1">Become Publicator</a>
                  {% endif %}
                  
                  <div class="dropdown js-dropdown js-user-nav ml-20">
                    <div class="dropdown__button d-flex items-center" data-el-toggle=".js-user-nav-dropdown">
                      <div class="text-white ml-10">
                        <div class="fw-500 lh-1">{{ app.user.name }} {{ app.user.lastname }}</div>
                        <div class="text-12 lh-1 mt-5">
                          {% if app.user.role == 'admin' %}
                            Administrator
                          {% elseif app.user.role == 'Publicitaire' %}
                            Publicator
                          {% else %}
                            Member
                          {% endif %}
                        </div>
                      </div>
                      <div class="avatar d-flex items-center justify-center bg-white ml-10 size-40 rounded-circle">
                        {% if app.user.image %}
                          {% if app.user.image starts with 'google_profile:' %}
                            <img src="{{ app.user.image[15:] }}" alt="avatar">
                          {% else %}
                            <img src="{{ asset('assets/img/UserPictures/' ~ app.user.image) }}" alt="avatar">
                          {% endif %}
                        {% else %}
                          <img src="{{ asset('assets/img/avatars/3.png') }}" alt="avatar">
                        {% endif %}
                      </div>
                    </div>

                    <div class="toggle-element -dropdown-2 js-user-nav-dropdown">
                      <div class="text-14 fw-500 js-dropdown-list">
                        {% if app.user.role == 'admin' %}
                          <div><a href="{{ path('admin_dashboard') }}" class="d-block">Admin Dashboard</a></div>
                        {% elseif app.user.role == 'Publicitaire' %}
                          <div><a href="{{ path('app_publicator') }}" class="d-block">Publicator Dashboard</a></div>
                        {% endif %}
                        <div><a href="{{ path('app_user_reservation_history') }}" class="d-block">My Bookings</a></div>
                        <div><a href="{{ path('app_client_profile') }}" class="d-block">Profile Settings</a></div>
                        <div><a href="{{ path('app_logout') }}" class="d-block">Logout</a></div>
                      </div>
                    </div>
                  </div>
                {% else %}
                  <a href="{{ path('app_login') }}" class="button px-30 fw-400 text-14 border-white -blue-1 h-50 text-white">Sign In / Register</a>
                {% endif %}
              </div>

              <div class="d-none xl:d-flex x-gap-20 items-center pl-30 text-white" data-x="header-mobile-icons" data-x-toggle="text-white">
                {% if app.user %}
                <!-- Mobile user dropdown removed as requested -->
                
                {% if app.user.role != 'admin' and app.user.role != 'Publicitaire' %}
                  <a href="{{ path('app_client_upgrade') }}" class="button px-20 fw-400 text-14 -blue-1 bg-white h-50 text-dark-1">Become Publicator</a>
                {% endif %}
                {% else %}
                <a href="{{ path('app_login') }}" class="button px-20 fw-400 text-14 -white bg-white h-50 text-dark-1">Sign In</a>
                {% endif %}
                <div><button class="d-flex items-center icon-menu text-inherit text-20" data-x-click="html, header, header-logo, header-mobile-icons, mobile-menu"></button></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    {% endblock %}
    <br>
    <br>
    <br>

    {% block body %}{% endblock %}
    
    {% block footer %}
    <footer class="footer -type-2 bg-dark-2 text-white">
      <div class="container">
        <div class="pt-60 pb-60">
          <div class="row y-gap-40 justify-between xl:justify-start">
            <div class="col-xl-4 col-lg-6">
              <img src="{{ asset('assets/img/general/logo-light.svg') }}" alt="image">

              <div class="row y-gap-30 justify-between pt-30">
                <div class="col-sm-6">
                  <div class="text-14">Toll Free Customer Care</div>
                  <a href="#" class="text-18 fw-500 mt-5">+(1) 123 456 7890</a>
                </div>

                <div class="col-sm-5">
                  <div class="text-14">Need live support?</div>
                  <a href="#" class="text-18 fw-500 mt-5">hi@gotrip.com</a>
                </div>
              </div>

            

              <div class="mt-60">
                <h5 class="text-16 fw-500 mb-10">Follow us on social media</h5>

                <div class="d-flex x-gap-20 items-center">
                  <a href="#"><i class="icon-facebook text-14"></i></a>
                  <a href="#"><i class="icon-twitter text-14"></i></a>
                  <a href="https://www.instagram.com/tripmate___/"><i class="icon-instagram text-14"></i></a>
                  <a href="#"><i class="icon-linkedin text-14"></i></a>
                </div>
              </div>
            </div>

            <div class="col-lg-6">
              <div class="row y-gap-30">
                <div class="col-12">
                  <h5 class="text-16 fw-500 mb-15">Get Updates & More</h5>

                  <div class="single-field relative d-flex justify-end items-center pb-30">
                    <input class="bg-white rounded-8" type="email" placeholder="Your Email">
                    <button class="absolute px-20 h-full text-15 fw-500 underline text-dark-1">Subscribe</button>
                  </div>
                </div>

                <div class="col-lg-4 col-sm-6">
                  <h5 class="text-16 fw-500 mb-30">Company</h5>
                  <div class="d-flex y-gap-5 flex-column">
                    <a href="#">About Us</a>
                    <a href="#">Careers</a>
                    <a href="#">Blog</a>
                
                  </div>
                </div>

                <div class="col-lg-4 col-sm-6">
                  <h5 class="text-16 fw-500 mb-30">Support</h5>
                  <div class="d-flex y-gap-5 flex-column">
                    <a href="#">Contact</a>
                    <a href="#">Legal Notice</a>
                    <a href="#">Privacy Policy</a>
                   
                  </div>
                </div>

                <div class="col-lg-4 col-sm-6">
                  <h5 class="text-16 fw-500 mb-30">Other Services</h5>
                  <div class="d-flex y-gap-5 flex-column">
                    <a href="#">Car hire</a>
                    <a href="#">Activity Finder</a>
                    <a href="#">Tour List</a>
                  
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="py-20 border-top-white-15">
          <div class="row justify-between items-center y-gap-10">
            <div class="col-auto">
              <div class="row x-gap-30 y-gap-10">
                <div class="col-auto">
                  <div class="d-flex items-center">
                    {{ 'now'|date('Y') }} GoTrip LLC All rights reserved.
                  </div>
                </div>

                <div class="col-auto">
                  <div class="d-flex x-gap-15">
                    <a href="#">Privacy</a>
                    <a href="#">Terms</a>
                    <a href="#">Site Map</a>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-auto">
              <div class="row y-gap-10 items-center">
                <div class="col-auto">
                  <div class="d-flex items-center">
                    <button class="d-flex items-center text-14 fw-500 text-white mr-10">
                      <i class="icon-globe text-16 mr-10"></i>
                      <span class="underline">English (US)</span>
                    </button>

                    <button class="d-flex items-center text-14 fw-500 text-white">
                      <i class="icon-usd text-16 mr-10"></i>
                      <span class="underline">USD</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>
    {% endblock %}

  </main>

  <!-- JavaScript -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAAz77U5XQuEME6TpftaMdX0bBelQxXRlM"></script>
  <script src="https://unpkg.com/@googlemaps/markerclusterer/dist/index.min.js"></script>
  
  <!-- Face-api.js library for Face ID functionality -->
  <script src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>

  <script src="{{ asset('assets/js/vendors.js') }}"></script>
  <script src="{{ asset('assets/js/main.js') }}"></script>
  
  {% block javascripts %}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Fix profile dropdown functionality
            const handleDropdownToggle = (event, dropdownSelector) => {
                const dropdownButton = event.currentTarget;
                const parentNav = dropdownButton.closest('.js-user-nav');
                const dropdown = parentNav.querySelector(dropdownSelector);
                
                if (dropdown) {
                    // Toggle the current dropdown
                    dropdown.classList.toggle('is-active');
                    
                    // Close all other dropdowns
                    document.querySelectorAll('.js-user-nav-dropdown, .js-user-nav-dropdown-mobile').forEach(el => {
                        if (el !== dropdown) {
                            el.classList.remove('is-active');
                        }
                    });
                    
                    // Prevent default behavior
                    event.preventDefault();
                    event.stopPropagation();
                }
            };
            
            // Add click handlers to dropdown buttons
            document.querySelectorAll('[data-el-toggle=".js-user-nav-dropdown"]').forEach(btn => {
                btn.addEventListener('click', (e) => handleDropdownToggle(e, '.js-user-nav-dropdown'));
            });
            
            document.querySelectorAll('[data-el-toggle=".js-user-nav-dropdown-mobile"]').forEach(btn => {
                btn.addEventListener('click', (e) => handleDropdownToggle(e, '.js-user-nav-dropdown-mobile'));
            });
            
            // Close dropdowns when clicking outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.js-user-nav')) {
                    document.querySelectorAll('.js-user-nav-dropdown, .js-user-nav-dropdown-mobile').forEach(dropdown => {
                        dropdown.classList.remove('is-active');
                    });
                }
            });
        });
    </script>
    
    {% block additional_scripts %}{% endblock %}
    
    {# Only show live chat to non-admin users #}
    {% if app.user is null or app.user.role != 'admin' %}
    <!--Start of Tawk.to Script-->
    <script type="text/javascript">
    var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
    (function(){
    var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
    s1.async=true;
    s1.src='https://embed.tawk.to/680be552e41bbb1918cd79e5/1ipn8ob71';
    s1.charset='UTF-8';
    s1.setAttribute('crossorigin','*');
    s0.parentNode.insertBefore(s1,s0);
    })();
    </script>
    <!--End of Tawk.to Script-->
    {% endif %}
  {% endblock %}
</body>

</html>
